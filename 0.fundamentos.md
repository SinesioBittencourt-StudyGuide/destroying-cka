# Kubernetes Fundamentals

![k8s](assets/k8s-horizontal.png)

## Containers in Corporative Environments

Ambientes coorporativos possuem algumas necessidades especÃ­ficas para suas aplicaÃ§Ãµes:

- Rollouts e rollbacks automatizados

- OrquestraÃ§Ã£o de containers (as coisas sÃ£o executadas onde devem ser executadas)

- OrquestraÃ§Ã£o de Armazenamento (EspaÃ§o deve ser disponibilizado de acordo com a necessidade das aplicaÃ§Ãµes)

- Service discovery e load balancing

- Self-healing (ResoluÃ§Ã£o de falhas de maneira automatizada)

- Alta disponilidade

- Escalabilidade

- Batch Execution

## What is Kubernetes?

Ã‰ uma plataforma para gerenciamento de workloads e serviÃ§os que utilizam **containers**. Ele Ã© portÃ¡vel, extensÃ­vel e open-source.

Ele consegue fazer tudo isso por que ele fornece um framework distribuÃ­do que serve pra executar sistemas distribuÃ­dos(os famosos microservices), entÃ£o ele Ã© um lego gigante que permite que vocÃª possa plugar soluÃ§Ãµes, desplugar, criar as suas prÃ³prias et cetera.

Ele provisiona os blocos pra que soluÃ§Ãµes sejam criadas de forma flexÃ­vel para o usuÃ¡rio.

**O Kubernetes Ã© uma soluÃ§Ã£o on-premisses(local) mas tambÃ©m estÃ¡ na public cloud.**

- AKS  â†’  Azure Kubernetes Solution
- EKS  â†’  AWS Kubernetes Solution
- GKE  â†’  Google Kubernetes Solution

## How Kubernetes works?

Quando vocÃª implementa o Kubernetes, vocÃª recebe um **cluster**, um cluster Ã© composto por **worker machines**, chamadas de **nodes**, que executam aplicaÃ§Ãµes em contianers.

## Kubernetes Components

### Nodes
Nodes sÃ£o as mÃ¡quinas que recebem os microserviÃ§os/containers, esses serviÃ§os sÃ£o comportados por um Pod.

- kubelet â†’ Fazem com que os containers realmente sejam executados dentro de um pod
- kube-proxy â†’ Provisiona a rede nos nodes
- container runtime â†’ Software responsÃ¡vel pela execuÃ§Ã£o de containers(e.g Docker)

### Control Plane
Dentro do painel de controle estÃ£o as ferramentas de gerenciamento do cluster.

- API Server â†’ Ã‰ a interface do control plane com o mundo externo.
- Scheduler(kube-scheduler) â†’ Seleciona Pods para executarem em Nodes
- Controller Manager(kube-controller-manager) â†’ Observa o estado dos serviÃ§os do cluster e tenta fazer com que tudo aconteÃ§a conforme o esperado.
- etc â†’ Ã‰ a persistÃªncia do Kubernetes, o banco de dados que armazena as informaÃ§Ãµes do Cluster.
- Cloud Controller Manager â†’ Ã‰ onde as Clouds PÃºblicas se conectam com o Cluster. 

## Kubernetes API

Ã‰ a coisa mais importante do Control Plane. O server API do Kubernetes expÃµe uma API HTTP, permitindo a manipulaÃ§Ã£o e queries em Objetos no Kubernetes. TambÃ©m permite o acesso a API utilizando REST.


## ConsideraÃ§Ãµes finais

Esses sÃ£o apenas os conceitos que eu achei relevante entender e que me ajudaram a ter uma ideia do que Ã© o Kubernetes e o que ele faz de uma forma muita abstrata mas que Ã©  um ponto de partida para aqueles que nunca tiveram contato com esse tipo de tecnologia. 

Fico aberto a sugestÃµes e/ou correÃ§Ãµes no texto ou informaÃ§Ãµes.

Boa jornada nos estudos.

## Understanding Authentication

> ! Under construction ðŸ’…ðŸ¿

Auth Modules -> usado para inserÃ§Ã£o de certificaÃ§Ãµes de clients
Tipos de Clients

- Users -> client certificates
- Services -> tokens

If not authenticated -> rejected with HTTP status code 401

/etc/kubernetes/manifests/kube-apiserver.yaml -> current setting

Authorization mode implements policies.

Authentication in Kubernetes means to deliver the right certificates to access the Kubernetes Cluster.

## namespaces

- provides a scope for names
- cannot be nested inside one another
- each k8s resource can only be in one namespace
- divide resources between multiple users
- labels used to distinguish resources within the same namespace
&nbsp;

&nbsp;